残業申請システム概要

//1　：優先して実装する機能
//2　：優先度低
//3　：作成対象
今後の検討事項　：改善点（実装しない予定）
その他画面、DB項目メモ記載




<< ログイン画面 >>
//1
・ログインする

//作成
・画面作成
・ログイン処理

社員番号
パスワード





<< メニュー >>
・残業申請・実績入力（全社員）
・申請確認（次長）
・申請決裁（課長）
・報告確認（次長）
・月次報告印刷（人事部、次長、課長）







<< 各社員残業申請入力画面 >>
//1
・申請の一覧を表示
・新規作成ボタンから新規作成
    ・部署名、氏名は表示
    ・勤務パターンはユーザー情報から初期表示
    ・印刷
・申請詳細画面
    ・印刷

//2

//作成
・一覧画面作成
・新規作成機能
    印刷機能
・詳細画面
　　印刷機能
・更新処理
・ログアウト機能（ヘッダー）


部署名
社員名
勤務パターン
申請日
残業予定時間
休憩時間（残業予定時間から算出して表示）
残業理由
申請日時（DBのupdate_date_time）
承認日
承認者

確認完了フラグ
決裁状態






<< 次長取りまとめ提出画面 >>
//1
・残業申請の一覧
・確認完了チェック（一括）

//2
・フィルタで確認、未確認の一覧切り替え
・累計残業時間の表示
・詳細画面
・確認取り消し機能


//作成
・画面作成
・一覧表示機能
・確認更新処理


日付
部署名
社員名
勤務パターン
残業予定時間
残業理由
申請時間

決裁状態
確認完了フラグ







<< 課長決裁画面 >>
//1
・残業申請の一覧
    次長確認済みの一覧
    差し戻し中の一覧
・決裁完了チェック（一括）
・差し戻しチェック（一括）


//2
・フィルタで決裁状態で一覧の切り替え
・累計残業時間の表示
・詳細画面


//作成
・画面作成
・一覧表示機能
・決裁更新処理
・差し戻し処理


申請日
部署名
社員名
勤務パターン
残業予定時間
残業理由
申請時間

決裁状態
・未決裁
・決裁済
・差し戻し中
・再提出







<< 各社員残業報告入力画面 >>
//1
・自分の申請一覧を表示
・申請一覧から選択
    ・申請時の内容を表示
    ・残業実績を入力する
    　残業時間と休憩時間は申請時の内容を初期表示
・事後報告を新規作成する
・報告済みのものは編集できない。


//作成
・一覧画面作成
・編集画面作成
・新規作成画面作成
・更新処理


（申請時項目プラス↓）
実残業時間
休憩時間
残業報告

確認完了フラグ
累計・平日日中60未満
累計・平日日中60超
累計・平日深夜早朝60未満
累計・平日深夜早朝60超
累計・休日日中60未満
累計・休日日中60超
累計・休日深夜早朝60未満
累計・休日深夜早朝60超








<< 次長取りまとめ提出画面 >>
//1
・残業申請一覧を表示
　実績未提出かどうかは実績時間報告内容の記入状態で判断
・確認完了チェック（一括）


<< 人事部出力画面 >>
//1
・次長、課長も出力可能
・月を指定して画面に一覧を表示する。

//2
・対象の月の未確認、未決済データがある場合は出力不可







<< その他仕様について >>
時間計算について
・DB上は分単位で管理する。
・表示上は時間で管理する。
　残業時間を1分単位での管理を行うので、小数点以下2桁表示（3桁を四捨五入）する。

60時間未満60時間超について
60時間ちょうどは60時間未満に含める。
60時間超は「60時間を超えている」ので60時間は含めない。
//////////////
残業時間を管理する際の 60時間の境目 について、60時間ちょうど が「60時間未満」または「60時間超」のどちらに含まれるかについては、システムやビジネスルールによって異なる場合がありますが、一般的な考え方や慣習について説明します。

一般的な解釈：
多くの場合、60時間ちょうどは「60時間未満」に含まれる というルールが採用されます。この場合、60時間未満 と 60時間超 を次のように解釈できます：

60時間未満 = 0時間から60時間ちょうどまで（60時間を含む）
60時間超 = 60時間を超えた場合（60時間は含まない）
このように、「60時間未満」という表現を使用する場合、60時間ちょうど は「未満」に含める形です。
/////////////


22時まで・・・21:59から残業したら、22:00 - 21:59 = 1分残業
22時以降・・・22時以上




// 残作業 //

・同日複数の申請、報告入力のバリデーション実装どうする？

・申請一覧に休憩時間入れるの忘れている
　→入力画面で「うち1時間の休憩が必要です」と注意喚起の表示するだけにする？
・報告入力の時のうち休憩時間のバリデーション

・入力画面バリデーション
・申請書、報告書削除処理
・次長、課長のログイン後の初期表示ページ調整
・残業報告の報告日をupdateDateから取得しているのを、
　次長確認のタイミングを考慮して、DB項目として持たせた方が良いかも

・CSVデータに社員番号（account）出した方が良い


・次長確認画面で差戻後、社員編集中か編集済かわかるようにする。
　詳細画面に表示する？
　一覧では、編集中は、　-  差戻
　　　　　　編集後は、　チェックボックス　空欄
　　　新規申請と差戻後の再申請か判別できない。

・次長報告確認一覧
　社員申請有り、未報告の一覧も表示した方が良い？
　（次長は取りまとめ役なので）



・残業を通常勤務の前後で行った場合の対応
前残業と後残業で開始終了の入力項目を追加


//// 今後の検討事項 ////
・一覧表示するデータの範囲とフィルター機能
・各社員入力画面に累計残業時間情報を表示
・各社員の申請、報告入力機能に保存機能
・差戻時のコメント入力
・申請一覧表示該当データ日付範囲（昨日、今日） ※プロトタイプでは実装しない
・規定休憩時間を自動設定、最小値のバリデーション
・月次資料の詳細画面
・課長の承認済み申請書一覧



今回は実装しない
・月の概念
・日付による一覧表示の制御
・同じ日付での複数の申請は考慮しない。
　→ルール見直しで1日1申請1報告（1日の入力件数制限は考慮しない）
  →退勤時にまとめて事後報告
  →同じ日付での入力のバリデーション
・一覧出力は残業データのみとする。
　（残業していない日のデータが必要か不明のため、不要と仮定）
・通常勤務について、遅刻や早退、休みなどは考慮しない。
　（残業管理システムなので、対象外とする）
・祝日は考慮しない
・休憩時間の設定を、前残業時間中、後残業時間中、両方に入れることはないものとする。
・休憩時間の設定を残業時間内になっているかどうかのバリデーション


